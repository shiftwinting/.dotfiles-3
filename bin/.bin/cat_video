#!/usr/bin/env python3

import argparse
import os
import subprocess
from pathlib import Path

parser = argparse.ArgumentParser()
parser.add_argument("input_files", nargs="*")
args = parser.parse_args()

input_files = args.input_files

write_to_file = ""
for f in input_files:
	write_to_file += "file '" + f + "'\n"

tmp_path = Path("tmp")
tmp_path.write_text(write_to_file)

subprocess.call(["ffmpeg", "-f", "concat", "-i", "tmp", "-codec", "copy", "output.mp4"])

tmp_path.unlink(missing_ok=True)
